#!/usr/bin/env sh

echo "ğŸ” Running pre-commit quality checks..."

# Run TypeScript compilation
npm run compile
if [ $? -ne 0 ]; then
  echo "âŒ TypeScript compilation failed"
  exit 1
fi

# Run ESLint (if configured)
if [ -f "eslint.config.js" ] || [ -f ".eslintrc.js" ] || [ -f ".eslintrc.json" ]; then
  echo "ğŸ” Running ESLint..."
  npm run lint
  if [ $? -ne 0 ]; then
    echo "âŒ ESLint found issues"
    exit 1
  fi
else
  echo "âš ï¸  No ESLint config found - skipping lint check"
fi

echo "âœ… Pre-commit checks completed!"